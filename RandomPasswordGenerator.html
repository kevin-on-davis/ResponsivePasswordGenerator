<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Password Generator</title>
  </head>
  <body>

    <!-- <h1>Open the console to see the magic!</h1> -->


      // FUNCTION EXECUTION
      // ================================================================================

      // Add in the lines of code below necessary to call the functions we created above.
        
        // var myPassword = generate_password(14, true, true, true, true);
        var myPassword = gen_pw_array_vs(14, true, true, true, true);
        console.log(myPassword);
        console.log(myPassword.length);
    </script>

    <div class="row">
        <!--7 Column Cards stacked and shuffled to display content-->
            <div id="random_generator" >
                <div class="card"  style="margin: 0 auto; position:relative; top:0; margin-left:3vw">
                        <h1 class="card-title" style="margin: 0 auto; width: 45vw;  border: solid black; border-style:outset; background:white; text-align: center">Password Generator</h1>
                        <div class="card-body" style="margin: 0 auto; height:30vw">
                            <form style="margin: 0 auto; width: 45vw;  border: solid black; border-style:outset; background:white; padding:2vw">
                                    <label for="pw_lngth">Enter required password length (8 - 128 characters) :</label><input id="pw_lngth" type="text" name="password_length" style="width:3vw"><br/><br/>

                                    <label for="special_chkbx">Allow special characters :</label><input id="special_chkbx" type="checkbox" name="special_chars"><br/><br/>
                                    Allow numbers :
                                    <label for="numbers_chkbx">Allow special characters :</label><input id="numbers_chkbx" type="checkbox" name="numeric_chars"><br/><br/>
                                    Allow uppercase characters :
                                    <label for="upper_chkbx">Allow special characters :</label><input id="upper_chkbx" type="checkbox" name="uppercase_chars"><br/><br/>
                                    Allow lowercase characters :
                                    <input type="checkbox" name="lowercase_chars"><br/><br/>
                                    <br/>
                                    <input type="text" name="random_password" style="height:3vw; font-size: 2vw"><br/><br/>
                                    <br/>
                                    <input type="button" value="Generate Password" 
                                        onclick="generate_password(document.getElementsByName(password_length).value, true, true, true, true)">
                            </form>
                        </div>
                </div>
            </div>
    </div>

    <script>

            // FUNCTIONS
            // ================================================================================
          //   !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]^_`abcdefghijklmnopqrstuvwxyz{|}~
              
          var myGeneratedPW;
      
          function gen_pw_array_vs(usr_req_length, allow_specials_chars, allow_numeric_chars, allow_lowercase_alphabet, allow_uppercase_alphabet)
              {
      
                  var composite_chr_str;
      
                  if (allow_specials_chars)
                  {
                      for( var i = 33; i <= 47; i++ )
                      {
                          if (typeof composite_chr_str == "undefined")
                          {
                              composite_chr_str = String.fromCharCode( i );
                          }
                          else
                          {
                              composite_chr_str += String.fromCharCode( i );
                          }
                      } 
                      for( var i = 58; i <= 64; i++ )
                      {
                          if (typeof composite_chr_str == "undefined")
                          {
                              composite_chr_str = String.fromCharCode( i );
                          }
                          else
                          {
                              composite_chr_str += String.fromCharCode( i );
                          }
                      } 
                      for( var i = 91; i <= 96; i++ )
                      {
                          if (typeof composite_chr_str == "undefined")
                          {
                              composite_chr_str = String.fromCharCode( i );
                          }
                          else
                          {
                              composite_chr_str += String.fromCharCode( i );
                          }
                      } 
                      for( var i = 123; i <= 126; i++ )
                      {
                          if (typeof composite_chr_str == "undefined")
                          {
                              composite_chr_str = String.fromCharCode( i );
                          }
                          else
                          {
                              composite_chr_str += String.fromCharCode( i );
                          }
                      } 
                  }
      
                  if (allow_numeric_chars)
                  {
                      for( var i = 48; i <= 57; i++ )
                      {
                          if (typeof composite_chr_str == "undefined")
                          {
                              composite_chr_str = String.fromCharCode( i );
                          }
                          else
                          {
                              composite_chr_str += String.fromCharCode( i );
                          }
                      } 
                  }
      
                  if (allow_lowercase_alphabet)
                  {
                      for( var i = 97; i <= 122; i++ )
                      {
                          if (typeof composite_chr_str == "undefined")
                          {
                              composite_chr_str = String.fromCharCode( i );
                          }
                          else
                          {
                              composite_chr_str += String.fromCharCode( i );
                          }
                      } 
                  }
      
                  if (allow_uppercase_alphabet)
                  {
                      for( var i = 65; i <= 90; i++ )
                      {
                          if (typeof composite_chr_str == "undefined")
                          {
                              composite_chr_str = String.fromCharCode( i );
                          }
                          else
                          {
                              composite_chr_str += String.fromCharCode( i );
                          }
                      } 
                  }
                  var myPWArray=composite_chr_str.split("");
      
                  for (i=0; i < usr_req_length; i++)
                  {
                      if (typeof myGeneratedPW == "undefined")
                          {
                              myGeneratedPW = myPWArray[Math.floor(Math.random() * myPWArray.length-1)];
                          }
                          else
                          {
                              myGeneratedPW = myGeneratedPW + myPWArray[Math.floor(Math.random() * myPWArray.length-1)];
                          }
      
                  }
                  return myGeneratedPW;
              }
      
          function generate_password(usr_req_length, allow_specials_chars, allow_numeric_chars, allow_lowercase_alphabet, allow_uppercase_alphabet)
              {
                  var generated_pw;
                  // debugger;
                  for (pw_length=1; (pw_length <= usr_req_length); pw_length++)
                  {
                      var ascii_char_code = Math.floor(Math.random() * 126);
      
                      while (ascii_char_code <= 32)
                      {
                          ascii_char_code = Math.floor(Math.random() * 126);
                      }
                      
                      if (allow_specials_chars)
                      {
                          if (ascii_char_code >= 33 && ascii_char_code <= 47)
                          {
                              if (typeof generated_pw == "undefined")
                              {
                                  generated_pw = String.fromCharCode(ascii_char_code);
                              }
                              else
                              {
                                  generated_pw = generated_pw + String.fromCharCode(ascii_char_code);String.fromCharCode(ascii_char_code);
                              }
                          }
      
                          if (ascii_char_code >= 58 && ascii_char_code <= 64)
                          {
                              if (typeof generated_pw == "undefined")
                              {
                                  generated_pw = String.fromCharCode(ascii_char_code);
                              }
                              else
                              {
                                  generated_pw = generated_pw + String.fromCharCode(ascii_char_code);String.fromCharCode(ascii_char_code);
                              }
                          }
      
                          if (ascii_char_code >= 91 && ascii_char_code <= 96)
                          {
                              if (typeof generated_pw == "undefined")
                              {
                                  generated_pw = String.fromCharCode(ascii_char_code);
                              }
                              else
                              {
                                  generated_pw = generated_pw + String.fromCharCode(ascii_char_code);String.fromCharCode(ascii_char_code);
                              }
                          }
      
      
                          if (ascii_char_code >= 123 && ascii_char_code <= 126)
                          {
                              if (typeof generated_pw == "undefined")
                              {
                                  generated_pw = String.fromCharCode(ascii_char_code);
                              }
                              else
                              {
                                  generated_pw = generated_pw + String.fromCharCode(ascii_char_code);String.fromCharCode(ascii_char_code);
                              }
                          }
                      }
      
                      if (allow_numeric_chars)
                      {
                          if (ascii_char_code >= 48 && ascii_char_code <= 57)
                          {
                              if (typeof generated_pw == "undefined")
                                  {
                                      generated_pw = String.fromCharCode(ascii_char_code);
                                  }
                                  else
                                  {
                                      generated_pw = generated_pw + String.fromCharCode(ascii_char_code);String.fromCharCode(ascii_char_code);
                                  }
                          }
                      }
      
                      if (allow_lowercase_alphabet)
                      {
                          if (ascii_char_code >= 97 && ascii_char_code <= 122)
                          {
                              if (typeof generated_pw == "undefined")
                                  {
                                      generated_pw = String.fromCharCode(ascii_char_code);
                                  }
                                  else
                                  {
                                      generated_pw = generated_pw + String.fromCharCode(ascii_char_code);String.fromCharCode(ascii_char_code);
                                  }
                          }
                      }
      
                      if (allow_uppercase_alphabet)
                      {
                          if (ascii_char_code >= 65 && ascii_char_code <= 90)
                          {
                              if (typeof generated_pw == "undefined")
                                  {
                                      generated_pw = String.fromCharCode(ascii_char_code);
                                  }
                                  else
                                  {
                                      generated_pw = generated_pw + String.fromCharCode(ascii_char_code);String.fromCharCode(ascii_char_code);
                                  }
                          }
                      }
                  }
      
                  return generated_pw;
              }
        </body>
</html>
